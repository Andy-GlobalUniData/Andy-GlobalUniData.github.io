/* ========================================
   Theme Dark V2 - 深色模式主題
   優化版本：性能優先、向後相容
   ======================================== */

[data-theme="dark"],
:root {
  /* === 主色系 - 單一藍色 === */
  --color-primary: #2196F3;  /* 藍色 */
  --color-primary-hover: #1976D2;
  --color-primary-light: rgba(33, 150, 243, 0.1);
  --color-primary-alpha: rgba(33, 150, 243, 0.1);  /* 向後相容 */

  /* === 次要色系 === */
  --color-secondary: #4CAF50;  /* 綠色 */
  --color-secondary-hover: #45a049;
  
  --color-accent: #FF9800;  /* 橙色 */
  --color-accent-hover: #FB8C00;

  /* === 背景色系 === */
  --bg-primary: #121212;      /* 深黑 - 主背景 */
  --bg-secondary: #1E1E1E;    /* 深灰 - 次要背景 */
  --bg-tertiary: #242424;     /* 藍灰 - 第三層背景 */
  --bg-elevated: #242424;     /* 卡片/浮起元素背景 */
  --bg-hover: #2C2C2C;        /* Hover 狀態背景 */
  --bg-input: #1E1E1E;        /* 輸入框背景 */
  --bg-modal: rgba(18, 18, 18, 0.95);  /* 模態框背景 */

  /* === 文字色系 === */
  --text-primary: #E0E0E0;    /* 主要文字 - 淺灰 */
  --text-secondary: #B0B0B0;  /* 次要文字 - 中灰 */
  --text-tertiary: #909090;   /* 第三級文字 - 深灰 */
  --text-muted: #808080;      /* 減弱文字 - 很深灰 */
  --text-heading: #FFFFFF;    /* 標題文字 - 純白 */
  --text-on-primary: #FFFFFF; /* 在主色上的文字 */
  --text-link: #64B5F6;       /* 連結文字 - 淡藍 */

  /* === 邊框色系 === */
  --border-color: #333333;    /* 主要邊框 */
  --border-color-light: #404040;  /* 淺色邊框 */
  --border-color-dark: #282828;   /* 深色邊框 */

  /* === 功能色 === */
  --color-success: #4CAF50;   /* 成功 - 綠 */
  --color-success-bg: rgba(76, 175, 80, 0.15);
  --color-success-border: rgba(76, 175, 80, 0.4);
  
  --color-warning: #FF9800;   /* 警告 - 橙 */
  --color-warning-bg: rgba(255, 152, 0, 0.15);
  --color-warning-border: rgba(255, 152, 0, 0.4);
  
  --color-error: #F44336;     /* 錯誤 - 紅 */
  --color-error-bg: rgba(244, 67, 54, 0.15);
  --color-error-border: rgba(244, 67, 54, 0.4);
  
  --color-info: #2196F3;      /* 資訊 - 藍 */
  --color-info-bg: rgba(33, 150, 243, 0.15);
  --color-info-border: rgba(33, 150, 243, 0.4);
  
  --color-danger: #F44336;    /* 向後相容 */

  /* === 灰階系統 === */
  --gray-50: #303030;
  --gray-100: #282828;
  --gray-200: #242424;
  --gray-300: #202020;
  --gray-400: #1C1C1C;
  --gray-500: #181818;
  --gray-600: #151515;
  --gray-700: #121212;
  --gray-800: #0F0F0F;
  --gray-900: #0A0A0A;

  /* === 陰影系統（優化：減少複雜度） === */
  --shadow-color: rgba(0, 0, 0, 0.5);

  /* === 區域特定顏色（優化：移除漸層，使用純色） === */
  
  /* 篩選控制面板 - 深色簡潔（性能優化：避免漸層） */
  --filter-panel-bg: #242424;
  --filter-panel-shadow: rgba(0, 0, 0, 0.5);
  --filter-card-bg: #1E1E1E;
  --filter-card-border: #333333;
  --filter-card-hover-shadow: rgba(33, 150, 243, 0.2);
  --filter-label-bg: #2196F3;  /* 純色，不用漸層 */
  
  /* 科系關鍵字篩選 - 深色簡潔（性能優化） */
  --keyword-section-bg: #242424;
  --keyword-section-shadow: rgba(0, 0, 0, 0.5);
  --keyword-input-bg: #1E1E1E;
  --keyword-input-border: #333333;
  --keyword-input-focus-border: #2196F3;
  --keyword-button-bg: #2196F3;
  --keyword-button-hover: #1976D2;
  --keyword-tag-bg: #2C2C2C;
  --keyword-tag-hover: #363636;
  
  /* 輸出按鈕區 - 深色簡潔（性能優化） */
  --export-section-bg: #242424;
  --export-section-shadow: rgba(0, 0, 0, 0.5);
  --export-button-bg: #1E1E1E;
  --export-button-hover-bg: #2C2C2C;
  --export-button-shadow: rgba(0, 0, 0, 0.3);
  
  /* 表格區域 - 深色背景（性能優化） */
  --table-bg: #1E1E1E;
  --table-border: #333333;
  --table-header-bg: #242424;
  --table-row-even: rgba(255, 255, 255, 0.03);
  --table-row-hover: rgba(33, 150, 243, 0.1);
  --table-title-border: #2196F3;
  
  /* 統計卡片 - 深色簡潔（性能優化：避免漸層） */
  --stats-card-bg: #242424;
  --stats-card-border: #2196F3;
  --stats-card-shadow: rgba(0, 0, 0, 0.5);
  --stats-item-bg: #1E1E1E;
  --stats-item-hover-shadow: rgba(33, 150, 243, 0.15);

  /* === 更新日誌彈窗 === */
  --changelog-content-bg: var(--bg-elevated);
  --changelog-close-hover: var(--text-primary);

  /* === 資料庫更新彈窗 === */
  --database-modal-bg: var(--bg-elevated);
  --database-modal-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);

  /* === Floating Nav === */
  --floating-nav-bg: var(--bg-elevated);
  --floating-nav-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
  --floating-nav-hover: var(--bg-hover);

  /* === DataTables === */
  --datatable-bg: var(--bg-elevated);
  --datatable-header-bg: var(--bg-secondary);
  --datatable-border: var(--border-color);
  --datatable-hover: var(--bg-hover);
  
  /* === 過渡效果 === */
  color-scheme: dark;
}

/* ========================================
   深色模式特定樣式
   ======================================== */

[data-theme="dark"] {
  /* 滾動條樣式 */
  scrollbar-color: var(--gray-400) var(--bg-secondary);
}

[data-theme="dark"] ::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

[data-theme="dark"] ::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: 4px;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: var(--gray-400);
  border-radius: 4px;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: var(--gray-300);
}

/* 輸入框樣式 */
[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select {
  background: var(--bg-secondary);
  color: var(--text-primary);
  border-color: var(--border-color);
}

[data-theme="dark"] input:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] select:focus {
  border-color: var(--color-primary);
  background: var(--bg-elevated);
}

/* 連結樣式 */
[data-theme="dark"] a {
  color: var(--color-primary);
}

[data-theme="dark"] a:hover {
  color: var(--color-primary-hover);
}

/* 程式碼區塊 */
[data-theme="dark"] code,
[data-theme="dark"] pre {
  background: var(--bg-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}
