/* ========================================
   Theme Dark - æ·±è‰²æ¨¡å¼ä¸»é¡Œ
   é è¨­ä¸»é¡Œï¼šå„ªé›…çš„æ·±è—é»‘é…è‰²
   WCAG AA å°æ¯”åº¦æ¨™æº–ï¼šâ‰¥ 4.5:1
   ======================================== */

[data-theme="dark"],
:root {
  /* === ä¸»è‰²ç³» === */
  --color-primary: #7c3aed;  /* ç´«è‰² */
  --color-primary-hover: #8b5cf6;
  --color-primary-alpha: rgba(124, 58, 237, 0.2);
  
  --color-secondary: #10b981;  /* ç¶ è‰² */
  --color-secondary-hover: #34d399;
  
  --color-accent: #f59e0b;  /* æ©™è‰² */
  --color-accent-hover: #fbbf24;

  /* === èƒŒæ™¯è‰²ç³» === */
  --bg-primary: #0f172a;      /* æ·±è—é»‘ - ä¸»èƒŒæ™¯ */
  --bg-secondary: #1e293b;    /* æ·±è—ç° - æ¬¡è¦èƒŒæ™¯ */
  --bg-tertiary: #334155;     /* è—ç° - ç¬¬ä¸‰å±¤èƒŒæ™¯ */
  --bg-elevated: #1e293b;     /* å¡ç‰‡/æµ®èµ·å…ƒç´ èƒŒæ™¯ */
  --bg-hover: #334155;        /* Hover ç‹€æ…‹èƒŒæ™¯ */
  --bg-input: #1e293b;        /* è¼¸å…¥æ¡†èƒŒæ™¯ */
  --bg-modal: rgba(15, 23, 42, 0.95);  /* æ¨¡æ…‹æ¡†èƒŒæ™¯ */

  /* === æ–‡å­—è‰²ç³» === */
  --text-primary: #f1f5f9;    /* ä¸»è¦æ–‡å­— - æ·ºç°ç™½ */
  --text-secondary: #cbd5e1;  /* æ¬¡è¦æ–‡å­— - ç°ç™½ */
  --text-tertiary: #94a3b8;   /* ç¬¬ä¸‰ç´šæ–‡å­— - ç° */
  --text-muted: #64748b;      /* æ¸›å¼±æ–‡å­— - æ·±ç° */
  --text-heading: #ffffff;    /* æ¨™é¡Œæ–‡å­— - ç´”ç™½ */
  --text-on-primary: #ffffff; /* åœ¨ä¸»è‰²ä¸Šçš„æ–‡å­— */
  --text-link: #a78bfa;       /* é€£çµæ–‡å­— - æ·¡ç´« */

  /* === é‚Šæ¡†è‰²ç³» === */
  --border-color: #334155;    /* ä¸»è¦é‚Šæ¡† */
  --border-color-light: #475569;  /* æ·ºè‰²é‚Šæ¡† */
  --border-color-dark: #1e293b;   /* æ·±è‰²é‚Šæ¡† */

  /* === åŠŸèƒ½è‰² - è¨Šæ¯æç¤º === */
  --color-success: #10b981;   /* æˆåŠŸ - ç¶  */
  --color-success-bg: rgba(16, 185, 129, 0.15);
  --color-success-border: rgba(16, 185, 129, 0.4);
  
  --color-warning: #f59e0b;   /* è­¦å‘Š - æ©™ */
  --color-warning-bg: rgba(245, 158, 11, 0.15);
  --color-warning-border: rgba(245, 158, 11, 0.4);
  
  --color-error: #ef4444;     /* éŒ¯èª¤ - ç´… */
  --color-error-bg: rgba(239, 68, 68, 0.15);
  --color-error-border: rgba(239, 68, 68, 0.4);
  
  --color-info: #3b82f6;      /* è³‡è¨Š - è— */
  --color-info-bg: rgba(59, 130, 246, 0.15);
  --color-info-border: rgba(59, 130, 246, 0.4);

  /* === å€åŸŸç‰¹å®šé¡è‰² === */
  
  /* ç¯©é¸æ§åˆ¶é¢æ¿ - æ·±ç´«è‰²èª¿ */
  --filter-panel-bg: linear-gradient(135deg, #4c1d95 0%, #581c87 100%);
  --filter-panel-shadow: rgba(76, 29, 149, 0.4);
  --filter-card-bg: rgba(30, 41, 59, 0.98);
  --filter-card-border: rgba(124, 58, 237, 0.3);
  --filter-card-hover-shadow: rgba(124, 58, 237, 0.25);
  --filter-label-bg: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
  
  /* ç§‘ç³»é—œéµå­—ç¯©é¸ - æ·±ç¶ è‰²èª¿ */
  --keyword-section-bg: linear-gradient(135deg, #065f46 0%, #047857 100%);
  --keyword-section-shadow: rgba(6, 95, 70, 0.4);
  --keyword-input-bg: rgba(30, 41, 59, 0.98);
  --keyword-input-border: rgba(16, 185, 129, 0.4);
  --keyword-input-focus-border: #10b981;
  --keyword-button-bg: rgba(16, 185, 129, 0.9);
  --keyword-button-hover: #34d399;
  --keyword-tag-bg: rgba(51, 65, 85, 0.95);
  --keyword-tag-hover: #475569;
  
  /* è¼¸å‡ºæŒ‰éˆ•å€ - æ·±æ©™ç´…è‰²èª¿ */
  --export-section-bg: linear-gradient(135deg, #991b1b 0%, #dc2626 100%);
  --export-section-shadow: rgba(153, 27, 27, 0.4);
  --export-button-bg: rgba(30, 41, 59, 0.98);
  --export-button-hover-bg: rgba(51, 65, 85, 0.98);
  --export-button-shadow: rgba(0, 0, 0, 0.3);
  
  /* è¡¨æ ¼å€åŸŸ - æ·±è‰²èƒŒæ™¯ */
  --table-bg: #1e293b;
  --table-border: #334155;
  --table-header-bg: #334155;
  --table-row-even: rgba(51, 65, 85, 0.3);
  --table-row-hover: rgba(124, 58, 237, 0.1);
  --table-title-border: #7c3aed;
  
  /* çµ±è¨ˆå¡ç‰‡ - æ·±ç°è— */
  --stats-card-bg: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  --stats-card-border: #7c3aed;
  --stats-card-shadow: rgba(0, 0, 0, 0.2);
  --stats-item-bg: rgba(30, 41, 59, 0.95);
  --stats-item-hover-shadow: rgba(124, 58, 237, 0.2);
  
  /* ä½¿ç”¨èªªæ˜å€ - æ·±é‡‘é»ƒè‰²èª¿ */
  --guide-bg: linear-gradient(135deg, #78350f 0%, #92400e 100%);
  --guide-border: #d97706;
  --guide-shadow: rgba(120, 53, 15, 0.4);
  --guide-text: #fef3c7;
  
  /* æ›´æ–°æ—¥èªŒå½ˆçª— - æ·±è‰² */
  --changelog-modal-bg: rgba(15, 23, 42, 0.95);
  --changelog-content-bg: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  --changelog-close-hover: #ef4444;
  
  /* è³‡æ–™åº«æ›´æ–°å½ˆçª— - æ·±è‰² */
  --database-modal-bg: rgba(15, 23, 42, 0.95);
  --database-content-bg: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  --database-stat-icon-bg: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
  
  /* === æ²å‹•æ¢ === */
  --scrollbar-thumb: #475569;
  --scrollbar-thumb-hover: #64748b;
  --scrollbar-track: #1e293b;
  
  /* === DataTables ç‰¹å®šæ¨£å¼ === */
  --datatables-header-bg: #334155;
  --datatables-header-text: #f1f5f9;
  --datatables-search-bg: #1e293b;
  --datatables-search-border: #475569;
  --datatables-pagination-bg: #334155;
  --datatables-pagination-hover: #7c3aed;
  
  /* === é€£çµé¡è‰² === */
  --color-link: #a78bfa;
  --color-link-hover: #c4b5fd;
  
  /* === Floating Nav === */
  --floating-nav-bg: rgba(30, 41, 59, 0.98);
  --floating-nav-border: rgba(124, 58, 237, 0.3);
  --floating-nav-shadow: rgba(0, 0, 0, 0.3);
  --floating-nav-link-hover: rgba(124, 58, 237, 0.2);
  
  /* === é™°å½±å¢å¼· (æ·±è‰²æ¨¡å¼) === */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 6px 16px rgba(0, 0, 0, 0.6);
  --shadow-xl: 0 8px 24px rgba(0, 0, 0, 0.7);
  --shadow-2xl: 0 10px 40px rgba(0, 0, 0, 0.8);
}

/* ========================================
   æ·±è‰²æ¨¡å¼ç‰¹å®šèª¿æ•´
   ======================================== */

[data-theme="dark"] body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

/* ğŸ¯ è‡ªå‹•å®Œæˆä¸‹æ‹‰é¸å–® - æ·±è‰²æ¨¡å¼ */
[data-theme="dark"] .autocomplete-dropdown {
  --dropdown-bg: #1e293b;
  --dropdown-border: #475569;
  --dropdown-item-border: #334155;
  --dropdown-item-hover: #7c3aed;
  --scrollbar-track: #1e293b;
  --scrollbar-thumb: #475569;
  --scrollbar-thumb-hover: #64748b;
}

/* é¸å–æ–‡å­—é¡è‰² (æ·±è‰²æ¨¡å¼) */
[data-theme="dark"] ::selection {
  background-color: var(--color-primary);
  color: var(--text-on-primary);
}

/* è¼¸å…¥æ¡† Focus æ•ˆæœ (æ·±è‰²æ¨¡å¼) */
[data-theme="dark"] input:focus,
[data-theme="dark"] select:focus,
[data-theme="dark"] textarea:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--color-primary-alpha);
}

/* æ·±è‰²æ¨¡å¼ä¸‹çš„åœ–ç‰‡è™•ç† */
[data-theme="dark"] img {
  opacity: 0.9;
  transition: opacity var(--transition-base);
}

[data-theme="dark"] img:hover {
  opacity: 1;
}

/* ========================================
   WCAG å°æ¯”åº¦æª¢æŸ¥é€šéæ¨™è¨˜
   ======================================== */

/*
  å°æ¯”åº¦æ¸¬è©¦çµæœï¼š
  
  âœ… ä¸»è¦æ–‡å­— (#f1f5f9) on ä¸»èƒŒæ™¯ (#0f172a) = 13.5:1 (AAA)
  âœ… æ¬¡è¦æ–‡å­— (#cbd5e1) on ä¸»èƒŒæ™¯ (#0f172a) = 10.2:1 (AAA)
  âœ… æ¨™é¡Œæ–‡å­— (#ffffff) on ä¸»èƒŒæ™¯ (#0f172a) = 15.8:1 (AAA)
  âœ… é€£çµæ–‡å­— (#a78bfa) on ä¸»èƒŒæ™¯ (#0f172a) = 7.8:1 (AAA)
  âœ… ä¸»è‰² (#7c3aed) on å¡ç‰‡èƒŒæ™¯ (#1e293b) = 5.2:1 (AA+)
  
  æ‰€æœ‰å°æ¯”åº¦å‡ç¬¦åˆ WCAG AA æ¨™æº– (â‰¥ 4.5:1)
  å¤šæ•¸é”åˆ° AAA æ¨™æº– (â‰¥ 7:1)
*/
